extends header

block content
  .w3-card-4 
    header.w3-container-w3-teal
      h1 Inquirições
      p Podes fazer as seguintes operações:
        ul.w3-ul
          li
            a(href="/protegida") Only for authorized users
    .w3-container
        table
          th
            if (page > 0)
              - let previousPage = page-1 
              button.w3-btn.w3-blue(onclick="paginationQuery("+previousPage+")") previous
          th
            - let nextPage = page + 1
            button.w3-btn.w3-blue(onclick="paginationQuery("+nextPage+")") next

    .w3-container
      table.w3-table-all
        tr
          th ID
            button.w3-btn.w3-gray(onclick="sortQuery('id')") V
          th Pessoa
            button.w3-btn.w3-gray(onclick="sortQuery('person')") V
          th Data Início
            button.w3-btn.w3-gray(onclick="sortQuery('startDate')") V
          th Data Fim
            button.w3-btn.w3-gray(onclick="sortQuery('endDate')") V
          th
        each i in is
          tr
            td=i.UnitId
            td
              each person in i.UnitTitle
                p=person
            - let initDate = new Date(i.UnitDateInitial).toISOString().substring(0,10)
            td=initDate
            - let finalDate = new Date(i.UnitDateFinal).toISOString().substring(0,10)
            td=finalDate
            td
              a(href="/inquiry/"+i._id) Inquirição

      .w3-container
        table
          th
            if(page > 0)
              button.w3-btn.w3-blue(onclick="paginationQuery("+previousPage+")") previous
          th
            button.w3-btn.w3-blue(onclick="paginationQuery("+nextPage+")") next

    footer.w3-indigo 
      address Generated by auth:RPCW2023 #{d}
